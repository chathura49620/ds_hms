{"ast":null,"code":"var _jsxFileName = \"C:\\\\ds_hms\\\\FE\\\\src\\\\pages\\\\Traveller\\\\viewReservedRooms.jsx\";\nimport React, { Component } from 'react';\nimport TableViewAvailableRooms from '../../components/Traveller/tables/tableViewAvailableRooms';\nimport { Modal, Button } from 'react-bootstrap';\nimport AskReserveDetails from '../../components/Traveller/forms/askReserveDetails';\nimport { Link } from 'react-router-dom';\nimport TableViewReservedRooms from '../../components/Traveller/tables/tableViewReservedRooms';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ViewReservedRooms extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      reservedRooms: [],\n      openModal: false,\n      editMember: {},\n      show: false,\n      editOb: {}\n    };\n\n    this.handleRemove = async id => {\n      console.log(\"handle remove\", id);\n      const reservedRooms = this.state.reservedRooms.filter(room => room.id !== id);\n      this.setState({\n        reservedRooms\n      });\n      const response = await fetch(\"http://localhost:8082/delete/reserved/\" + id, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }); // const data = await response.json();\n\n      console.log(response); //db delete request\n    };\n\n    this.handleEditModal = member => {\n      this.setState({\n        openModal: true\n      });\n      console.log(\"edit modal\", member._id);\n    };\n\n    this.closeOpenedModal = () => {\n      this.setState({\n        openModal: false\n      });\n    };\n\n    this.handleShow = room => {\n      this.setState({\n        show: true,\n        editOb: room\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const response = await fetch(\"http://localhost:8082/reservedRooms\", {\n      method: \"GET\"\n    });\n    const data = await response.json();\n    this.setState({\n      reservedRooms: data\n    });\n    console.log(data);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"reserved rooms\", /*#__PURE__*/_jsxDEV(TableViewReservedRooms, {\n        filteredItems: this.state.reservedRooms,\n        onModalView: this.handleShow,\n        onRemove: this.handleRemove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.show,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Reserve your room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(AskReserveDetails, {\n            room: this.state.editOb,\n            onClose: this.handleClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: this.handleClose,\n            children: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            children: \"save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default ViewReservedRooms;","map":{"version":3,"names":["React","Component","TableViewAvailableRooms","Modal","Button","AskReserveDetails","Link","TableViewReservedRooms","ViewReservedRooms","state","reservedRooms","openModal","editMember","show","editOb","handleRemove","id","console","log","filter","room","setState","response","fetch","method","headers","handleEditModal","member","_id","closeOpenedModal","handleShow","handleClose","componentDidMount","data","json","render"],"sources":["C:/ds_hms/FE/src/pages/Traveller/viewReservedRooms.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport TableViewAvailableRooms from '../../components/Traveller/tables/tableViewAvailableRooms';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport AskReserveDetails from '../../components/Traveller/forms/askReserveDetails';\r\nimport { Link } from 'react-router-dom';\r\nimport TableViewReservedRooms from '../../components/Traveller/tables/tableViewReservedRooms';\r\n\r\n\r\nclass ViewReservedRooms extends Component {\r\n    state = { \r\n\r\n        reservedRooms : [],\r\n        openModal: false,\r\n        editMember: {},\r\n        show: false,\r\n        editOb: {},\r\n     }\r\n    \r\n\r\n    handleRemove = async(id) => {\r\n\r\n      console.log(\"handle remove\", id);\r\n\r\n      const  reservedRooms = this.state.reservedRooms.filter(room => room.id !== id);\r\n      this.setState({reservedRooms});\r\n\r\n      const response = await fetch(\"http://localhost:8082/delete/reserved/\"+id, {\r\n        method: \"DELETE\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n\r\n     // const data = await response.json();\r\n      console.log(response);\r\n      //db delete request\r\n      \r\n\r\n\r\n    } \r\n\r\n    handleEditModal = (member) => {\r\n\r\n\r\n        this.setState({openModal: true});\r\n        console.log(\"edit modal\", member._id)\r\n    }\r\n    closeOpenedModal = () => {\r\n\r\n        this.setState({openModal: false});\r\n    }\r\n    \r\n\r\n   async componentDidMount(){\r\n\r\n        const response = await fetch(\"http://localhost:8082/reservedRooms\", {\r\n            method: \"GET\",\r\n          });\r\n\r\n          const data = await response.json();\r\n          \r\n          this.setState({reservedRooms: data})\r\n          console.log(data);\r\n\r\n\r\n    }\r\n\r\n    handleShow = (room) => {\r\n        this.setState({show: true, editOb: room});\r\n    }\r\n    handleClose = () => {\r\n\r\n        this.setState({show: false});\r\n    }\r\n\r\n\r\n\r\n\r\n    render() { \r\n        return (\r\n            <>\r\n            reserved rooms\r\n            \r\n           <TableViewReservedRooms filteredItems={this.state.reservedRooms} onModalView={this.handleShow} onRemove={this.handleRemove}/>\r\n           {/* <TableViewMember filteredItems={this.state.users} onRemove={this.handleRemove}\r\n            openEditModal={this.handleEditModal} */}\r\n            {/* /> */}\r\n            <Modal show={this.state.show}>\r\n             <Modal.Header>\r\n\r\n               <Modal.Title>Reserve your room</Modal.Title>\r\n             </Modal.Header>\r\n             <Modal.Body>\r\n\r\n\r\n            <AskReserveDetails  room={this.state.editOb} onClose={this.handleClose}/>\r\n\r\n\r\n             </Modal.Body>\r\n             <Modal.Footer>\r\n                 <Button variant='danger' onClick={this.handleClose}>\r\n                  close\r\n                 </Button>\r\n                 <Button variant='primary'>\r\n                   save\r\n                 </Button>\r\n\r\n             </Modal.Footer>\r\n\r\n            </Modal>\r\n            </>\r\n           \r\n        );\r\n    }\r\n}\r\n \r\nexport default ViewReservedRooms;"],"mappings":"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"},"metadata":{},"sourceType":"module"}